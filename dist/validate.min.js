"use strict";var Validate=function(e){return this._fields=e,this._valid=!0,this._messages=[],this};Validate.prototype._addMessage=function(e){this._messages.push(e)},Validate.prototype._handle=function(e,t){"function"==typeof this[t.type]?this[t.type](e,t):console.log("The function '"+t.type+"' does not exists.")},Validate.prototype._doValidate=function(e,t){t.presence&&!t.value&&(this._addMessage("The field '"+e+"' is required."),this._valid=!1),t.value&&(t.type&&this._handle(e,t),t.regex&&!t.regex.test(t.value)&&(this._addMessage("The field '"+e+"' do not match with regex."),this._valid=!1))},Validate.prototype._validate=function(){for(var e in this._fields){var t=this._fields[e];t.value||(t.value=document.querySelector("input[data-validate="+e+"]").value);t.name&&t.name,this._doValidate(e,t)}},Validate.prototype._validateNumberLength=function(e,t,a){var i=!0;return a.gt&&a.gt>t&&(this._addMessage("The field '"+e+"' must be greater than "+a.gt+"."),i=!1),a.gte&&a.gte>=t&&(this._addMessage("The field '"+e+"' must be greater than or equal to "+a.gte+"."),i=!1),a.lt&&a.lt<t&&(this._addMessage("The field '"+e+"' must be less than "+a.lt+"."),i=!1),a.lte&&a.lte<=t&&(this._addMessage("The field '"+e+"' must be less than or equal to "+a.lte+"."),i=!1),i},Validate.prototype._validateStringLength=function(e,t){var a=t.value.length,i=!0;return t.min&&a<t.min&&(this._addMessage("The field '"+e+"' must have at least "+t.min+" characters."),i=!1),t.max&&a>t.max&&(this._addMessage("The field '"+e+"' must have up to "+t.min+" characters."),i=!1),t.exact&&a==t.exact&&(this._addMessage("The field '"+e+"' must have "+t.exact+" characters."),i=!1),i},Validate.prototype.integer=function(e,t){if(!/^[0-9]*$/.test(t.value))return this._addMessage("The field '"+e+"' must have only numbers."),this._valid=!1,!1;var a=parseInt(t.value);return this._validateNumberLength(e,a,t)},Validate.prototype.money=function(e,t){if(!/^\$?\d+(.\d{3})*(\,\d*)?$/.test(t.value))return this._addMessage("The field '"+e+"' is not monetary value."),this._valid=!1,!1;var a=parseFloat(t.value.replace(".","").replace(",","."));return this._validateNumberLength(e,a,t)},Validate.prototype.onlyLetters=function(e,t){return/^[a-zA-Z]*$/.test(t.value)?this._validateStringLength(e,t):(this._addMessage("The field '"+e+"' must have only letters."),this._valid=!1,!1)},Validate.prototype.noSpecialCharacters=function(e,t){return/^[0-9a-zA-Z]*$/.test(t.value)?this._validateStringLength(e,t):(this._addMessage("The field '"+e+"' must have only letters and numbers."),this._valid=!1,!1)},Validate.prototype.personName=function(e,t){return/^[a-zA-Z\u00C0-\u00FF\s\.\-\']+/i.test(t.value)?this._validateStringLength(e,t):(this._addMessage("The field '"+e+"' is not a person name."),this._valid=!1,!1)},Validate.prototype.cpf=function(e,t){var a,s,r=t.value.replace(/[^\d]+/g,""),l=!0;if(a=0,11!=r.length||"00000000000"==r||"11111111111"==r||"22222222222"==r||"33333333333"==r||"44444444444"==r||"55555555555"==r||"66666666666"==r||"77777777777"==r||"88888888888"==r||"99999999999"==r)l=!1;else{for(i=1;i<=9;i++)a+=parseInt(r.substring(i-1,i))*(11-i);if(s=a%11,(s=10==s||11==s||s<2?0:11-s)!=parseInt(r.substring(9,10)))l=!1;else{for(a=0,i=1;i<=10;i++)a+=parseInt(r.substring(i-1,i))*(12-i);(s=10==(s=a%11)||11==s||s<2?0:11-s)!=parseInt(r.substring(10,11))&&(l=!1)}}return l||this._addMessage("The field '"+e+"' is not a valid CPF."),l},Validate.prototype.cnpj=function(e,t){var a=t.value.replace(/[^\d]+/g,""),s=!0;if(14!=a.length||""==a||"00000000000000"==a||"11111111111111"==a||"22222222222222"==a||"33333333333333"==a||"44444444444444"==a||"55555555555555"==a||"66666666666666"==a||"77777777777777"==a||"88888888888888"==a||"99999999999999"==a)s=!1;else{for(str_length=a.length-2,numbers=a.substring(0,str_length),digits=a.substring(str_length),sum=0,pos=str_length-7,i=str_length;i>=1;i--)sum+=numbers.charAt(str_length-i)*pos--,pos<2&&(pos=9);if(result=sum%11<2?0:11-sum%11,result!=digits.charAt(0))this._valid=!1,s=!1;else{for(str_length+=1,numbers=a.substring(0,str_length),sum=0,pos=str_length-7,i=str_length;i>=1;i--)sum+=numbers.charAt(str_length-i)*pos--,pos<2&&(pos=9);result=sum%11<2?0:11-sum%11,result!=digits.charAt(1)&&(this._valid=!1,s=!1)}}return s||(this._addMessage("The field '"+e+"' is not a valid CNPJ."),this._valid=!1),s},Validate.prototype.cpfOrCnpj=function(e,t){var a=t.value.replace(/[^\d]+/g,"");return 11==a.length?this.cpf(e,t):14==a.length?this.cnpj(e,t):(this._addMessage("The field '"+e+"' is not a valid CPF or CNPJ."),this._valid=!1,!1)},Validate.prototype.email=function(e,t){return!!/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i.test(t.value)||(this._addMessage("The field '"+e+"' is not a valid email."),this._valid=!1,!1)},Validate.prototype.zipcode=function(e,t){var a=/[^\d]+/g,i=0;switch(t.country||(t.country="br"),t.country){case"br":i=8;a=/[^\d]+/g;break;default:return console.error("Invalid country for zipcode validation"),this._valid=!1,!1}return i==t.value.replace(a,"").length||(this._addMessage("The field '"+e+"' is not a valid zipcode."),this._valid=!1,!1)},Validate.prototype.isValid=function(){return this._validate(),this._valid},Validate.prototype.getMessages=function(){return this._messages},"undefined"!=typeof module&&(module.exports=Validate);